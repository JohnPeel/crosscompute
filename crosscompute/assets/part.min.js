function import_upload(e,t,r){var o=$(e.target),n=o.next(".feedback"),a=o.data("name"),l=a,s=$("#"+l);$.post(r,{upload_id:t.upload_id,argument_name:a}).fail(function(e){n.html(e.responseJSON[a])}).success(function(e){s.html(e),$("[name="+l+"]").val(t.upload_id),n.text("")})}!function(){IR.users||$(".btn-file").enable();var e=$("form.result");if(e.length){var t=$("#run-tool-options"),r=t.find(".btn-run"),o=$("div.result");e.submit(function(e){e.preventDefault()}),r.click(function(){var o=r.prop("disabled",!0),n=e.trigger("updated.cc"),a=o.text();o.text("Running..."),$(".control-label").removeClass("error").find(".feedback").remove();var l=get_form_dictionary(t);l.x=get_form_json(n),$.ajax({type:"post",url:CC.tool_json_url,data:l,error:function(e){var t=e.responseJSON;for(k in t){var r=$("[name="+k+"]");r.length&&r.parents(".form-group").find(".control-label").first().addClass("error").append('<span class="feedback">[ '+t[k].toUpperCase()+" ]</span>")}n.trigger("failed.cc",e),o.prop("disabled",!1).text(a)},success:function(e){n.trigger("succeeded.cc",e),location.href=e.result_url}})}),o.length&&setTimeout(function(){var e=o.offset();scrollTo(e.left,e.top)},1)}$('[data-toggle="popover"]').popover({trigger:"click hover focus"})}();
